<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Sistema Financeiro Profissional - Gest√£o completa de finan√ßas">
    <meta name="theme-color" content="#667eea">
    
    <!-- Desabilita cache agressivamente -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <title>Sistema Financeiro | Dashboard</title>
    
    <!-- üî• BUILD: 2026-01-14 15:28 - REFACTOR MODULAR üî• -->
    
    <!-- Preload CSS cr√≠tico -->
    <link rel="preload" href="/static/style.css" as="style">
    <link rel="stylesheet" href="/static/style.css?v=20260114_1528">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>üí∞</text></svg>">
</head>
<body>
    <!-- ============================================================================
         SIDEBAR - NAVEGA√á√ÉO PRINCIPAL
         ============================================================================ -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            üí∞ SISTEMA FINANCEIRO
        </div>
        
        <nav class="sidebar-nav">
            <!-- Dashboard -->
            <button class="nav-button active" data-page="dashboard" data-permission="dashboard">
                üìä Dashboard
            </button>
            
            <!-- Lan√ßamentos -->
            <button class="nav-button" data-submenu="lancamentos" data-permission="lancamentos_view">
                üíµ Lan√ßamentos <span class="submenu-icon">‚ñ∂</span>
            </button>
            <div class="submenu" id="submenu-lancamentos" style="display: none;">
                <button class="submenu-button" data-page="contas-receber" data-permission="lancamentos_view">
                    üí∞ Contas a Receber
                </button>
                <button class="submenu-button" data-page="contas-pagar" data-permission="lancamentos_view">
                    üí≥ Contas a Pagar
                </button>
                <button class="submenu-button" data-page="extrato-bancario" data-permission="lancamentos_view">
                    üè¶ Extrato Banc√°rio
                </button>
                <button class="submenu-button" data-page="lancamentos" data-permission="lancamentos_view">
                    üìã Todos Lan√ßamentos
                </button>
            </div>
            
            <!-- Cadastros -->
            <button class="nav-button" data-submenu="cadastros" data-permission="contas_view">
                üìù Cadastros <span class="submenu-icon">‚ñ∂</span>
            </button>
            <div class="submenu" id="submenu-cadastros" style="display: none;">
                <button class="submenu-button" data-page="contas" data-permission="contas_view">
                    üè¶ Contas Banc√°rias
                </button>
                <button class="submenu-button" data-page="categorias" data-permission="categorias_view">
                    üìÇ Categorias
                </button>
                <button class="submenu-button" data-page="clientes" data-permission="clientes_view">
                    üë§ Clientes
                </button>
                <button class="submenu-button" data-page="fornecedores" data-permission="fornecedores_view">
                    üè¢ Fornecedores
                </button>
            </div>
            
            <!-- Relat√≥rios -->
            <button class="nav-button" data-submenu="relatorios" data-permission="relatorios_view">
                üìà Relat√≥rios <span class="submenu-icon">‚ñ∂</span>
            </button>
            <div class="submenu" id="submenu-relatorios" style="display: none;">
                <button class="submenu-button" data-page="fluxo-caixa" data-permission="relatorios_view">
                    üìä Fluxo de Caixa
                </button>
                <button class="submenu-button" data-page="fluxo-projetado" data-permission="relatorios_view">
                    üîÆ Fluxo Projetado
                </button>
                <button class="submenu-button" data-page="analise-contas" data-permission="relatorios_view">
                    üìà An√°lise de Contas
                </button>
                <button class="submenu-button" data-page="analise-categorias" data-permission="relatorios_view">
                    üìä An√°lise de Categorias
                </button>
                <button class="submenu-button" data-page="inadimplencia" data-permission="relatorios_view">
                    ‚ö†Ô∏è Inadimpl√™ncia
                </button>
            </div>
        </nav>
        
        <div class="sidebar-footer">
            Sistema Financeiro v2.0 Web
        </div>
    </div>

    <!-- ============================================================================
         MAIN CONTENT - P√°ginas do sistema
         ============================================================================ -->
    <div class="main-content" id="mainContent">
        
        <!-- ====================================================================
             P√ÅGINA: DASHBOARD
             ==================================================================== -->
        <div class="page active" id="dashboard">
            <h1 class="page-title">üìä Dashboard</h1>
            
            <!-- Cards de resumo -->
            <div class="cards-container">
                <div class="card card-primary">
                    <div class="card-title">üí∞ Saldo Total</div>
                    <div class="card-value" id="saldo-total">R$ 0,00</div>
                </div>
                
                <div class="card card-success">
                    <div class="card-title">üìà Contas a Receber</div>
                    <div class="card-value" id="contas-receber">R$ 0,00</div>
                </div>
                
                <div class="card card-danger">
                    <div class="card-title">üìâ Contas a Pagar</div>
                    <div class="card-value" id="contas-pagar">R$ 0,00</div>
                </div>
                
                <div class="card card-warning">
                    <div class="card-title">‚ö†Ô∏è Contas Vencidas</div>
                    <div class="card-value" id="contas-vencidas">R$ 0,00</div>
                </div>
            </div>
            
            <!-- Informa√ß√µes adicionais -->
            <div class="info-cards">
                <div class="info-card">
                    <span class="info-label">Total de Contas:</span>
                    <span class="info-value" id="total-contas">0</span>
                </div>
                <div class="info-card">
                    <span class="info-label">Total de Lan√ßamentos:</span>
                    <span class="info-value" id="total-lancamentos">0</span>
                </div>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: CONTAS A RECEBER
             ==================================================================== -->
        <div class="page" id="contas-receber" style="display: none;">
            <h1 class="page-title">üí∞ Contas a Receber</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-lancamento" data-tipo="RECEITA">
                    ‚ûï Nova Receita
                </button>
                <button class="btn btn-success" data-action="exportar-excel">
                    üìä Exportar Excel
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th>Cliente</th>
                            <th>Categoria</th>
                            <th>Valor</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="contas-receber-list">
                        <tr>
                            <td colspan="7" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: CONTAS A PAGAR
             ==================================================================== -->
        <div class="page" id="contas-pagar" style="display: none;">
            <h1 class="page-title">üí≥ Contas a Pagar</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-lancamento" data-tipo="DESPESA">
                    ‚ûï Nova Despesa
                </button>
                <button class="btn btn-danger" data-action="exportar-pdf">
                    üìÑ Exportar PDF
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th>Fornecedor</th>
                            <th>Categoria</th>
                            <th>Valor</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="contas-pagar-list">
                        <tr>
                            <td colspan="7" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: EXTRATO BANC√ÅRIO
             ==================================================================== -->
        <div class="page" id="extrato-bancario" style="display: none;">
            <h1 class="page-title">üè¶ Extrato Banc√°rio</h1>
            
            <!-- Filtros -->
            <div class="filters-container">
                <div class="form-group">
                    <label>Conta Banc√°ria:</label>
                    <select id="extrato-conta" class="input">
                        <option value="">Todas as contas</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Data In√≠cio:</label>
                    <input type="date" id="extrato-data-inicio" class="input">
                </div>
                
                <div class="form-group">
                    <label>Data Fim:</label>
                    <input type="date" id="extrato-data-fim" class="input">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" data-action="aplicar-filtros-extrato">
                        üîç Filtrar
                    </button>
                    <button class="btn btn-secondary" data-action="limpar-filtros-extrato">
                        üîÑ Limpar
                    </button>
                </div>
            </div>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-action="importar-extrato">
                    üì• Importar OFX
                </button>
                <button class="btn btn-success" data-action="exportar-extrato-excel">
                    üìä Exportar Excel
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descri√ß√£o</th>
                            <th>Tipo</th>
                            <th>Valor</th>
                            <th>Saldo</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="extrato-list">
                        <tr>
                            <td colspan="7" class="text-center">Selecione uma conta e per√≠odo</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: TODOS OS LAN√áAMENTOS
             ==================================================================== -->
        <div class="page" id="lancamentos" style="display: none;">
            <h1 class="page-title">üìã Todos os Lan√ßamentos</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-lancamento">
                    ‚ûï Novo Lan√ßamento
                </button>
                <button class="btn btn-success" data-action="exportar-lancamentos-excel">
                    üìä Exportar Excel
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Tipo</th>
                            <th>Descri√ß√£o</th>
                            <th>Categoria</th>
                            <th>Conta</th>
                            <th>Valor</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="lancamentos-list">
                        <tr>
                            <td colspan="8" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: CONTAS BANC√ÅRIAS
             ==================================================================== -->
        <div class="page" id="contas" style="display: none;">
            <h1 class="page-title">üè¶ Contas Banc√°rias</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-conta">
                    ‚ûï Nova Conta
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Banco</th>
                            <th>Ag√™ncia</th>
                            <th>N√∫mero</th>
                            <th>Saldo Inicial</th>
                            <th>Saldo Atual</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="contas-list">
                        <tr>
                            <td colspan="7" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: CATEGORIAS
             ==================================================================== -->
        <div class="page" id="categorias" style="display: none;">
            <h1 class="page-title">üìÇ Categorias</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-categoria">
                    ‚ûï Nova Categoria
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Tipo</th>
                            <th>Subcategorias</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="categorias-list">
                        <tr>
                            <td colspan="4" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: CLIENTES
             ==================================================================== -->
        <div class="page" id="clientes" style="display: none;">
            <h1 class="page-title">üë§ Clientes</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-cliente">
                    ‚ûï Novo Cliente
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Documento</th>
                            <th>Telefone</th>
                            <th>Email</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="clientes-list">
                        <tr>
                            <td colspan="5" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: FORNECEDORES
             ==================================================================== -->
        <div class="page" id="fornecedores" style="display: none;">
            <h1 class="page-title">üè¢ Fornecedores</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-modal="modal-fornecedor">
                    ‚ûï Novo Fornecedor
                </button>
            </div>
            
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Documento</th>
                            <th>Telefone</th>
                            <th>Email</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="fornecedores-list">
                        <tr>
                            <td colspan="5" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: FLUXO DE CAIXA
             ==================================================================== -->
        <div class="page" id="fluxo-caixa" style="display: none;">
            <h1 class="page-title">üìä Fluxo de Caixa</h1>
            
            <!-- Filtros -->
            <div class="filters-container">
                <div class="form-group">
                    <label>Data In√≠cio:</label>
                    <input type="date" id="fluxo-data-inicio" class="input">
                </div>
                
                <div class="form-group">
                    <label>Data Fim:</label>
                    <input type="date" id="fluxo-data-fim" class="input">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" data-action="atualizar-fluxo">
                        üîÑ Atualizar
                    </button>
                    <button class="btn btn-success" data-action="exportar-fluxo-excel">
                        üìä Exportar Excel
                    </button>
                </div>
            </div>
            
            <!-- Resumo -->
            <div class="cards-container">
                <div class="card card-success">
                    <div class="card-title">üí∞ Total Entradas</div>
                    <div class="card-value" id="fluxo-entradas">R$ 0,00</div>
                </div>
                
                <div class="card card-danger">
                    <div class="card-title">üí≥ Total Sa√≠das</div>
                    <div class="card-value" id="fluxo-saidas">R$ 0,00</div>
                </div>
                
                <div class="card card-primary">
                    <div class="card-title">üìä Saldo do Per√≠odo</div>
                    <div class="card-value" id="fluxo-saldo">R$ 0,00</div>
                </div>
            </div>
            
            <!-- Gr√°fico -->
            <div class="chart-container">
                <canvas id="fluxo-chart"></canvas>
            </div>
            
            <!-- Tabela detalhada -->
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Categoria</th>
                            <th>Entradas</th>
                            <th>Sa√≠das</th>
                            <th>Saldo</th>
                        </tr>
                    </thead>
                    <tbody id="fluxo-list">
                        <tr>
                            <td colspan="5" class="text-center">Selecione um per√≠odo</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: FLUXO PROJETADO
             ==================================================================== -->
        <div class="page" id="fluxo-projetado" style="display: none;">
            <h1 class="page-title">üîÆ Fluxo Projetado</h1>
            
            <!-- Filtros -->
            <div class="filters-container">
                <div class="form-group">
                    <label>Projetar at√©:</label>
                    <input type="date" id="projecao-data-final" class="input">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" data-action="atualizar-projecao">
                        üîÑ Atualizar Proje√ß√£o
                    </button>
                </div>
            </div>
            
            <!-- Resumo -->
            <div class="cards-container">
                <div class="card card-success">
                    <div class="card-title">üí∞ Receitas Projetadas</div>
                    <div class="card-value" id="projecao-receitas">R$ 0,00</div>
                </div>
                
                <div class="card card-danger">
                    <div class="card-title">üí≥ Despesas Projetadas</div>
                    <div class="card-value" id="projecao-despesas">R$ 0,00</div>
                </div>
                
                <div class="card card-primary">
                    <div class="card-title">üìä Saldo Projetado</div>
                    <div class="card-value" id="projecao-saldo">R$ 0,00</div>
                </div>
            </div>
            
            <!-- Gr√°fico -->
            <div class="chart-container">
                <canvas id="projecao-chart"></canvas>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: AN√ÅLISE DE CONTAS
             ==================================================================== -->
        <div class="page" id="analise-contas" style="display: none;">
            <h1 class="page-title">üìà An√°lise de Contas</h1>
            
            <!-- Filtros -->
            <div class="filters-container">
                <div class="form-group">
                    <label>Data In√≠cio:</label>
                    <input type="date" id="analise-data-inicio" class="input">
                </div>
                
                <div class="form-group">
                    <label>Data Fim:</label>
                    <input type="date" id="analise-data-fim" class="input">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" data-action="atualizar-analise">
                        üîÑ Atualizar
                    </button>
                </div>
            </div>
            
            <!-- Resumo por conta -->
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Conta</th>
                            <th>Saldo Inicial</th>
                            <th>Entradas</th>
                            <th>Sa√≠das</th>
                            <th>Saldo Final</th>
                        </tr>
                    </thead>
                    <tbody id="analise-contas-list">
                        <tr>
                            <td colspan="5" class="text-center">Selecione um per√≠odo</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: AN√ÅLISE DE CATEGORIAS
             ==================================================================== -->
        <div class="page" id="analise-categorias" style="display: none;">
            <h1 class="page-title">üìä An√°lise de Categorias</h1>
            
            <div class="page-actions">
                <button class="btn btn-primary" data-action="atualizar-analise-categorias">
                    üîÑ Atualizar
                </button>
            </div>
            
            <!-- Gr√°fico de Pizza -->
            <div class="chart-container">
                <canvas id="categorias-chart"></canvas>
            </div>
            
            <!-- Tabela detalhada -->
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Categoria</th>
                            <th>Tipo</th>
                            <th>Total</th>
                            <th>Percentual</th>
                        </tr>
                    </thead>
                    <tbody id="analise-categorias-list">
                        <tr>
                            <td colspan="4" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- ====================================================================
             P√ÅGINA: INADIMPL√äNCIA
             ==================================================================== -->
        <div class="page" id="inadimplencia" style="display: none;">
            <h1 class="page-title">‚ö†Ô∏è Inadimpl√™ncia</h1>
            
            <!-- Resumo -->
            <div class="cards-container">
                <div class="card card-danger">
                    <div class="card-title">‚ö†Ô∏è Total Vencido</div>
                    <div class="card-value" id="inadimplencia-total">R$ 0,00</div>
                </div>
                
                <div class="card card-warning">
                    <div class="card-title">üìÖ Contas Vencidas</div>
                    <div class="card-value" id="inadimplencia-qtd">0</div>
                </div>
                
                <div class="card card-info">
                    <div class="card-title">üë§ Clientes Inadimplentes</div>
                    <div class="card-value" id="inadimplencia-clientes">0</div>
                </div>
            </div>
            
            <!-- Tabela de inadimplentes -->
            <div class="table-container">
                <table class="table">
                    <thead>
                        <tr>
                            <th>Cliente</th>
                            <th>Vencimento</th>
                            <th>Dias em Atraso</th>
                            <th>Valor</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody id="inadimplencia-list">
                        <tr>
                            <td colspan="5" class="text-center">Carregando...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ============================================================================
         MODAIS - Formul√°rios de cadastro e edi√ß√£o
         ============================================================================ -->
    
    <!-- ====================================================================
         MODAL: LAN√áAMENTO
         ==================================================================== -->
    <div class="modal" id="modal-lancamento">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üíµ Novo Lan√ßamento</h2>
                <button class="modal-close" data-close-modal="modal-lancamento">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-lancamento" data-form="lancamento">
                    <input type="hidden" name="id" id="lancamento-id">
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tipo *</label>
                            <select name="tipo" class="input" required>
                                <option value="RECEITA">üí∞ Receita</option>
                                <option value="DESPESA">üí≥ Despesa</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Status *</label>
                            <select name="status" class="input" required>
                                <option value="PENDENTE">‚è≥ Pendente</option>
                                <option value="PAGO">‚úÖ Pago</option>
                                <option value="CANCELADO">‚ùå Cancelado</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Descri√ß√£o *</label>
                        <input type="text" name="descricao" class="input" required placeholder="Ex: Venda de produto, Pagamento de fornecedor">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Valor *</label>
                            <input type="number" name="valor" class="input" step="0.01" min="0" required placeholder="0,00">
                        </div>
                        
                        <div class="form-group">
                            <label>Data de Vencimento *</label>
                            <input type="date" name="data_vencimento" class="input" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Categoria *</label>
                            <select name="categoria_id" id="select-categoria" class="input" required>
                                <option value="">Selecione uma categoria</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label>Subcategoria</label>
                            <select name="subcategoria_id" id="select-subcategoria" class="input">
                                <option value="">Nenhuma subcategoria</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Conta Banc√°ria *</label>
                        <select name="conta_bancaria_id" id="select-conta" class="input" required>
                            <option value="">Selecione uma conta</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Cliente/Fornecedor</label>
                        <input type="text" name="pessoa" class="input" placeholder="Nome do cliente ou fornecedor">
                    </div>
                    
                    <div class="form-group">
                        <label>Data de Pagamento</label>
                        <input type="date" name="data_pagamento" class="input">
                    </div>
                    
                    <div class="form-group">
                        <label>Observa√ß√µes</label>
                        <textarea name="observacoes" class="input" rows="3" placeholder="Informa√ß√µes adicionais (opcional)"></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-close-modal="modal-lancamento">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         MODAL: CONTA BANC√ÅRIA
         ==================================================================== -->
    <div class="modal" id="modal-conta">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üè¶ Nova Conta Banc√°ria</h2>
                <button class="modal-close" data-close-modal="modal-conta">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-conta" data-form="conta">
                    <input type="hidden" name="id" id="conta-id">
                    
                    <div class="form-group">
                        <label>Nome da Conta *</label>
                        <input type="text" name="nome" class="input" required placeholder="Ex: Conta Corrente Principal">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Banco *</label>
                            <input type="text" name="banco" class="input" required placeholder="Ex: Banco do Brasil">
                        </div>
                        
                        <div class="form-group">
                            <label>Ag√™ncia *</label>
                            <input type="text" name="agencia" class="input" required placeholder="0000-0">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>N√∫mero da Conta *</label>
                            <input type="text" name="conta" class="input" required placeholder="00000-0">
                        </div>
                        
                        <div class="form-group">
                            <label>Saldo Inicial</label>
                            <input type="number" name="saldo_inicial" class="input" step="0.01" value="0.00">
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-close-modal="modal-conta">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         MODAL: CATEGORIA
         ==================================================================== -->
    <div class="modal" id="modal-categoria">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìÇ Nova Categoria</h2>
                <button class="modal-close" data-close-modal="modal-categoria">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-categoria" data-form="categoria">
                    <input type="hidden" name="id" id="categoria-id">
                    
                    <div class="form-group">
                        <label>Nome *</label>
                        <input type="text" name="nome" class="input" required placeholder="Ex: Vendas, Despesas Operacionais">
                    </div>
                    
                    <div class="form-group">
                        <label>Tipo *</label>
                        <select name="tipo" class="input" required>
                            <option value="">Selecione um tipo</option>
                            <option value="RECEITA">üí∞ Receita</option>
                            <option value="DESPESA">üí≥ Despesa</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>Descri√ß√£o</label>
                        <textarea name="descricao" class="input" rows="3" placeholder="Descri√ß√£o opcional da categoria"></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-close-modal="modal-categoria">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         MODAL: CLIENTE
         ==================================================================== -->
    <div class="modal" id="modal-cliente">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üë§ Novo Cliente</h2>
                <button class="modal-close" data-close-modal="modal-cliente">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-cliente" data-form="cliente">
                    <input type="hidden" name="id" id="cliente-id">
                    
                    <div class="form-group">
                        <label>Nome *</label>
                        <input type="text" name="nome" class="input" required placeholder="Nome completo">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>CPF/CNPJ</label>
                            <input type="text" name="documento" class="input" placeholder="000.000.000-00">
                        </div>
                        
                        <div class="form-group">
                            <label>Telefone</label>
                            <input type="tel" name="telefone" class="input" placeholder="(00) 00000-0000">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" class="input" placeholder="cliente@email.com">
                    </div>
                    
                    <div class="form-group">
                        <label>Endere√ßo</label>
                        <textarea name="endereco" class="input" rows="2" placeholder="Rua, n√∫mero, complemento"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Observa√ß√µes</label>
                        <textarea name="observacoes" class="input" rows="2" placeholder="Informa√ß√µes adicionais"></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-close-modal="modal-cliente">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         MODAL: FORNECEDOR
         ==================================================================== -->
    <div class="modal" id="modal-fornecedor">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üè¢ Novo Fornecedor</h2>
                <button class="modal-close" data-close-modal="modal-fornecedor">&times;</button>
            </div>
            <div class="modal-body">
                <form id="form-fornecedor" data-form="fornecedor">
                    <input type="hidden" name="id" id="fornecedor-id">
                    
                    <div class="form-group">
                        <label>Nome/Raz√£o Social *</label>
                        <input type="text" name="nome" class="input" required placeholder="Nome do fornecedor">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>CPF/CNPJ</label>
                            <input type="text" name="documento" class="input" placeholder="00.000.000/0000-00">
                        </div>
                        
                        <div class="form-group">
                            <label>Telefone</label>
                            <input type="tel" name="telefone" class="input" placeholder="(00) 0000-0000">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" name="email" class="input" placeholder="fornecedor@email.com">
                    </div>
                    
                    <div class="form-group">
                        <label>Endere√ßo</label>
                        <textarea name="endereco" class="input" rows="2" placeholder="Endere√ßo completo"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Observa√ß√µes</label>
                        <textarea name="observacoes" class="input" rows="2" placeholder="Informa√ß√µes adicionais"></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-close-modal="modal-fornecedor">Cancelar</button>
                        <button type="submit" class="btn btn-primary">üíæ Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ====================================================================
         MODAL: CONCILIA√á√ÉO BANC√ÅRIA
         ==================================================================== -->
    <div class="modal" id="modal-conciliacao">
        <div class="modal-content" style="max-width: 900px;">
            <div class="modal-header">
                <h2>üîó Conciliar Transa√ß√£o Banc√°ria</h2>
                <button class="modal-close" data-close-modal="modal-conciliacao">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Informa√ß√µes da transa√ß√£o -->
                <div id="transacao-info" class="card" style="margin-bottom: 20px; background: #f8f9fa; padding: 15px;">
                    <p><strong>Carregando informa√ß√µes da transa√ß√£o...</strong></p>
                </div>
                
                <!-- Sugest√µes de lan√ßamentos -->
                <h3 style="margin-bottom: 15px;">üí° Sugest√µes de Lan√ßamentos</h3>
                <div id="sugestoes-conciliacao" style="max-height: 400px; overflow-y: auto; border: 1px solid #ddd; border-radius: 8px; padding: 10px;">
                    <p class="text-center">Buscando sugest√µes...</p>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-close-modal="modal-conciliacao">Cancelar</button>
                    <button type="button" class="btn btn-danger" id="btn-desconciliar" style="display: none;" data-action="desconciliar">
                        ‚ùå Desconciliar
                    </button>
                    <button type="button" class="btn btn-success" id="btn-criar-lancamento" data-action="criar-lancamento-conciliacao">
                        ‚ûï Criar Novo Lan√ßamento
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ============================================================================
         CONTAINER DE NOTIFICA√á√ïES
         ============================================================================ -->
    <div id="notification-container" class="notification-container"></div>

    <!-- ============================================================================
         LOADING OVERLAY
         ============================================================================ -->
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- ============================================================================
         SCRIPTS - Carregamento otimizado e modular
         ============================================================================ -->
    
    <!-- Core dependencies (ordem importa!) -->
    <script src="/static/permissions.js?v=20260114_1528"></script>
    <script src="/static/navigation.js?v=20260114_1528"></script>
    <script src="/static/crud_functions.js?v=20260114_1528"></script>
    <script src="/static/app.js?v=20260114_1528"></script>
    
    <!-- Feature modules (carregam em paralelo) -->
    <script src="/static/pdf_functions.js?v=20260114_1528" defer></script>
    <script src="/static/excel_functions.js?v=20260114_1528" defer></script>
    <script src="/static/analise_functions.js?v=20260114_1528" defer></script>
    <script src="/static/modals.js?v=20260114_1528" defer></script>
    
    <!-- Analytics e monitoring (opcional) -->
    <!-- <script src="/static/analytics.js" defer></script> -->
</body>
</html>
